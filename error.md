# 数値計算における誤差
## 1 丸め誤差
計算機では，数値は有限の桁で表現される．したがって，循環小数や無限小数は正確に表現できない．例えば，円周率を3桁で表現すると

$\pi = 3.1415926\cdots \approx 3.14$

となり，誤差が生じる．このように，有限桁数で表現するために生じる誤差を丸め誤差（rounding error, round-off error）という．  

### 丸め誤差の体験
```
n = 10
x = 0.0
for i in range(n):
    x += 0.1
print(x)
```
結果  
0.9999999999999999

## 2 情報落ち
絶対値の大きさが極端に異なる数字同士を加算・減算したときに有効数字が減少することを情報落ち（loss of trailing digits）という．  

### 情報落ちの体験
```
x = 100000000.0
y = 0.000000001
print(x+y)
```
結果  
100000000.0

## 3 桁落ち
絶対値の大きさが近い数字同士を減算(符号が異なる場合には加算)したときに有効数字が減少することを桁落ち（cancellation of significant digits）という．  

### 桁落ちの体験
```
x = 0.12345
y = 0.12340
print(x-y)
```
結果  
5.000000000000837e-05

## 4 打ち切り誤差
有限回の計算で打ち切るために生じる誤差を打ち切り誤差（truncation error）という．例えば，無限級数で表現される指
数関数を第3項までの和で近似すると

$e^x = 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \frac{x^4}{4!} + \cdots \approx 1 + x + \frac{x^2}{2!}$

となり，誤差が生じる．  

### 打ち切り誤差の体験
```
import math
x = 1.0

# correct value
print(math.exp(x))

# Taylor series expansion
y = 1.0 + x + x**2/2.0
print(y)
```
結果  
2.718281828459045  
2.5
